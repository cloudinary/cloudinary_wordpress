!function(){"use strict";var e={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(e,t,i){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}i.r(t),i.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return n}});var r=i("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function n(e){if(Array.isArray(e))return(0,r.default)(e)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":function(e,t,i){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i.r(t),i.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js":function(e,t,i){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.r(t),i.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return s}});var r=i("./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js"),n=i("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),o=i("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),a=i("./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js");function s(e){return(0,r.default)(e)||(0,n.default)(e)||(0,o.default)(e)||(0,a.default)()}},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return n}});var r=i("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function n(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,r.default)(e,t):void 0}}}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,i),o.exports}i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};i.r({});var r=i("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),n={deviceDensity:window.devicePixelRatio?window.devicePixelRatio:"auto",density:null,images:[],throttle:!1,config:CLDLB||{},lazyThreshold:0,_init:function(){var e=this;this._calcThreshold(),(0,r.default)(document.images).forEach((function(t){if(t.dataset.publicId){var i=t.dataset.size.split(" ");t.originalWidth=i[0],t.originalHeight=i[1],i[2]&&(t.crop=i[2]),e.images.push(t),t.addEventListener("error",(function(i){t.src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="rgba(0,0,0,0.1)"/><text x="50%" y="50%" fill="red" text-anchor="middle" dominant-baseline="middle">%26%23x26A0%3Bï¸Ž</text></svg>';var r=e.images.indexOf(t);e.images.splice(r,1)}))}})),window.addEventListener("resize",(function(){e._throttle(e._build.bind(e),100,!0)})),window.addEventListener("scroll",(function(){e._throttle(e._build.bind(e),100,!1)})),setTimeout((function(){return e._build()}),0)},_calcThreshold:function(){var e=this.config.lazy_threshold.replace(/[^0-9]/g,""),t=0;switch(this.config.lazy_threshold.replace(/[0-9]/g,"").toLowerCase()){case"em":t=parseFloat(getComputedStyle(document.body).fontSize)*e;break;case"rem":t=parseFloat(getComputedStyle(document.documentElement).fontSize)*e;break;case"vh":t=window.innerHeight/e*100;break;default:t=e}this.lazyThreshold=window.innerHeight+parseInt(t,10)},_getDensity:function(){if(this.density)return this.density;var e=this.config.dpr?this.config.dpr.replace("X",""):"off";if("off"===e)return this.density=1,1;var t=this.deviceDensity;return"max"!==e&&"auto"!==t&&(e=parseFloat(e),t=t>Math.ceil(e)?e:t),this.density=t,t},_throttle:function(e,t,i){var r=this;this.throttle||setTimeout((function(){e(i),r.throttle=!1}),t)},_build:function(e){var t=this;this.images.forEach((function(i){!e&&i.cld_loaded||t.buildSize(i)}))},_shouldRebuild:function(e){var t=this.scaleWidth(e),i=e.getBoundingClientRect(),r="auto"!==this.density?this._getDensity():1;return i.top<this.lazyThreshold&&(t>e.naturalWidth/r||!e.cld_loaded)},_shouldPlacehold:function(e){var t=this.scaleWidth(e),i=e.getBoundingClientRect(),r="auto"!==this.density?this._getDensity():1;return this.config.placeholder&&!e.cld_loaded&&i.top<2*this.lazyThreshold&&(t>e.naturalWidth/r||!e.cld_placehold)},scaleWidth:function(e){var t=this.config.pixel_step,i=Math.floor((e.originalWidth-e.width)/t),r=e.originalWidth-t*i;return r>e.originalWidth?r=e.originalWidth:this.config.max_width<r?r=this.config.max_width:this.config.min_width>r&&(r=this.config.min_width),r},scaleSize:function(e,t){var i=(e.originalWidth/e.originalHeight).toFixed(3),r=(e.width/e.height).toFixed(3),n=this.scaleWidth(e),o=[];e.width!==e.originalWidth&&o.push(i===r?"c_scale":"c_fill,g_auto");var a=Math.round(n/r);if(o.push("w_"+n),o.push("h_"+a),t){var s=this._getDensity();1!==s&&o.push("dpr_"+s)}return{transformation:o.join(","),nameExtension:n+"x"+a}},buildSize:function(e){this._shouldRebuild(e)?e.dataset.srcset?(e.cld_loaded=!0,e.srcset=e.dataset.srcset):e.src=this.getSizeURL(e):this._shouldPlacehold(e)&&(e.src=this.getPlaceholderURL(e))},getSizeURL:function(e){e.cld_loaded=!0;var t=this.scaleSize(e,!0),i="auto"!==this.config.image_format&&"none"!==this.config.image_format?this.config.image_format:e.dataset.format,r=e.dataset.publicId.split("/").pop();return[this.config.base_url,"images",t.transformation,e.dataset.transformations,e.dataset.publicId,r+"-"+t.nameExtension+"."+i+"?_i=AA"].filter(this.empty).join("/")},getPlaceholderURL:function(e){e.cld_placehold=!0;var t=this.scaleSize(e,!1);return[this.config.base_url,"images",t.transformation,this.config.placeholder,e.dataset.publicId,"placeholder"].filter(this.empty).join("/")},empty:function(e){return 0!==e.length}};window.addEventListener("load",(function(){n._init()}))}();
//# sourceMappingURL=lazy-load.js.map