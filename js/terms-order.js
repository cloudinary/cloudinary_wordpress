(()=>{"use strict";var e={d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>s});const a={template:"",tags:jQuery("#cld-tax-items"),tagDelimiter:window.tagsSuggestL10n&&window.tagsSuggestL10n.tagDelimiter||",",startId:null,_init(){if(!this.tags.length)return;const e=this;this._sortable(),"undefined"!=typeof wpAjax&&(wpAjax.procesParseAjaxResponse=wpAjax.parseAjaxResponse,wpAjax.parseAjaxResponse=function(t,a,s){const o=wpAjax.procesParseAjaxResponse(t,a,s);if(!o.errors&&o.responses[0]&&jQuery('[data-taxonomy="'+o.responses[0].what+'"]').length){const t=jQuery(o.responses[0].data).find("label").last().text().trim();e._pushItem(o.responses[0].what,t)}return o}),void 0!==window.tagBox&&(window.tagBox.processflushTags=window.tagBox.flushTags,window.tagBox.flushTags=function(t,a,s){if(void 0===s){const s=t.prop("id"),o=jQuery("input.newtag",t),r=(a=a||!1)?jQuery(a).text():o.val(),n=window.tagBox.clean(r).split(e.tagDelimiter);for(const t in n){const a=s+":"+n[t];jQuery('[data-item="'+a+'"]').length||e._pushItem(a,n[t])}}return this.processflushTags(t,a,s)},window.tagBox.processTags=window.tagBox.parseTags,window.tagBox.parseTags=function(t){const a=t.id,s=a.split("-check-num-")[1],o=a.split("-check-num-")[0],r=jQuery(t).closest(".tagsdiv").find(".the-tags"),n=window.tagBox.clean(r.val()).split(e.tagDelimiter)[s];(new wp.api.collections.Tags).fetch({data:{slug:n}}).done(a=>{const s=!!a.length&&jQuery('[data-item="'+o+":"+a[0].id+'"]');s.length?s.remove():(jQuery(`.cld-tax-order-list-item:contains(${n})`).remove(),--e.startId),this.processTags(t)})}),jQuery("body").on("change",".selectit input",function(){const t=jQuery(this),a=t.val(),s=t.is(":checked"),o=t.parent().text().trim();!0===s?e.tags.find(`[data-item="category:${a}"]`).length||e._pushItem(`category:${a}`,o):e.tags.find(`[data-item="category:${a}"]`).remove()})},_createItem(e,t){const a=jQuery("<li/>"),s=jQuery("<span/>"),o=jQuery("<input/>");return a.addClass("cld-tax-order-list-item").attr("data-item",e),o.addClass("cld-tax-order-list-item-input").attr("type","hidden").attr("name","cld_tax_order[]").val(e),s.addClass("dashicons dashicons-menu cld-tax-order-list-item-handle"),a.append(s).append(t).append(o),a},_pushItem(e,t){const a=this._createItem(e,t);this.tags.append(a)},_sortable(){jQuery(".cld-tax-order-list").sortable({connectWith:".cld-tax-order",axis:"y",handle:".cld-tax-order-list-item-handle",placeholder:"cld-tax-order-list-item-placeholder",forcePlaceholderSize:!0,helper:"clone"})}};void 0!==window.CLDN&&(a._init(),jQuery("[data-wp-lists] .selectit input[checked]").each((e,t)=>{jQuery(t).trigger("change")}));const s=a})();
//# sourceMappingURL=terms-order.js.map