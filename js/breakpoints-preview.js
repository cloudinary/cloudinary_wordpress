(()=>{"use strict";var t,e,n,r;t={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},e=["(","?"],n={")":["("],":":["?","?:"]},r=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var i={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};function s(s){var o=function(i){for(var s,o,a,l,c=[],u=[];s=i.match(r);){for(o=s[0],(a=i.substr(0,s.index).trim())&&c.push(a);l=u.pop();){if(n[o]){if(n[o][0]===l){o=n[o][1]||o;break}}else if(e.indexOf(l)>=0||t[l]<t[o]){u.push(l);break}c.push(l)}n[o]||u.push(o),i=i.substr(s.index+o.length)}return(i=i.trim())&&c.push(i),c.concat(u.reverse())}(s);return function(t){return function(t,e){var n,r,s,o,a,l,c=[];for(n=0;n<t.length;n++){if(a=t[n],o=i[a]){for(r=o.length,s=Array(r);r--;)s[r]=c.pop();try{l=o.apply(null,s)}catch(t){return t}}else l=e.hasOwnProperty(a)?e[a]:+a;c.push(l)}return c[0]}(o,t)}}var o={contextDelimiter:"",onMissingKey:null};function a(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},o)this.options[n]=void 0!==e&&n in e?e[n]:o[n]}a.prototype.getPluralForm=function(t,e){var n,r,i,o=this.pluralForms[t];return o||("function"!=typeof(i=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(t){var e,n,r;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(r=e[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),i=function(t){var e=s(t);return function(t){return+e({n:t})}}(r)),o=this.pluralForms[t]=i),o(e)},a.prototype.dcnpgettext=function(t,e,n,r,i){var s,o,a;return s=void 0===i?0:this.getPluralForm(t,i),o=n,e&&(o=e+this.options.contextDelimiter+n),(a=this.data[t][o])&&a[s]?a[s]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===s?n:r)};var l={plural_forms:t=>1===t?0:1},c=/^i18n\.(n?gettext|has_translation)(_|$)/;var u=function(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};var d=function(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};var h=function(t,e){return function(n,r,i,s=10){const o=t[e];if(!d(n))return;if(!u(r))return;if("function"!=typeof i)return void console.error("The hook callback must be a function.");if("number"!=typeof s)return void console.error("If specified, the hook priority must be a number.");const a={callback:i,priority:s,namespace:r};if(o[n]){const t=o[n].handlers;let e;for(e=t.length;e>0&&!(s>=t[e-1].priority);e--);e===t.length?t[e]=a:t.splice(e,0,a),o.__current.forEach(t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++})}else o[n]={handlers:[a],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,r,i,s)}};var p=function(t,e,n=!1){return function(r,i){const s=t[e];if(!d(r))return;if(!n&&!u(i))return;if(!s[r])return 0;let o=0;if(n)o=s[r].handlers.length,s[r]={runs:s[r].runs,handlers:[]};else{const t=s[r].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===i&&(t.splice(e,1),o++,s.__current.forEach(t=>{t.name===r&&t.currentIndex>=e&&t.currentIndex--}))}return"hookRemoved"!==r&&t.doAction("hookRemoved",r,i),o}};var f=function(t,e){return function(n,r){const i=t[e];return void 0!==r?n in i&&i[n].handlers.some(t=>t.namespace===r):n in i}};var m=function(t,e,n,r){return function(i,...s){const o=t[e];o[i]||(o[i]={handlers:[],runs:0}),o[i].runs++;const a=o[i].handlers;if(!a||!a.length)return n?s[0]:void 0;const l={name:i,currentIndex:0};return(r?async function(){try{o.__current.add(l);let t=n?s[0]:void 0;for(;l.currentIndex<a.length;){const e=a[l.currentIndex];t=await e.callback.apply(null,s),n&&(s[0]=t),l.currentIndex++}return n?t:void 0}finally{o.__current.delete(l)}}:function(){try{o.__current.add(l);let t=n?s[0]:void 0;for(;l.currentIndex<a.length;){t=a[l.currentIndex].callback.apply(null,s),n&&(s[0]=t),l.currentIndex++}return n?t:void 0}finally{o.__current.delete(l)}})()}};var v=function(t,e){return function(){const n=t[e],r=Array.from(n.__current);return r.at(-1)?.name??null}};var y=function(t,e){return function(n){const r=t[e];return void 0===n?r.__current.size>0:Array.from(r.__current).some(t=>t.name===n)}};var _=function(t,e){return function(n){const r=t[e];if(d(n))return r[n]&&r[n].runs?r[n].runs:0}},g=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=h(this,"actions"),this.addFilter=h(this,"filters"),this.removeAction=p(this,"actions"),this.removeFilter=p(this,"filters"),this.hasAction=f(this,"actions"),this.hasFilter=f(this,"filters"),this.removeAllActions=p(this,"actions",!0),this.removeAllFilters=p(this,"filters",!0),this.doAction=m(this,"actions",!1,!1),this.doActionAsync=m(this,"actions",!1,!0),this.applyFilters=m(this,"filters",!0,!1),this.applyFiltersAsync=m(this,"filters",!0,!0),this.currentAction=v(this,"actions"),this.currentFilter=v(this,"filters"),this.doingAction=y(this,"actions"),this.doingFilter=y(this,"filters"),this.didAction=_(this,"actions"),this.didFilter=_(this,"filters")}};var A=function(){return new g}(),{addAction:x,addFilter:F,removeAction:b,removeFilter:w,hasAction:I,hasFilter:k,removeAllActions:E,removeAllFilters:L,doAction:T,doActionAsync:S,applyFilters:D,applyFiltersAsync:z,currentAction:P,currentFilter:B,doingAction:$,doingFilter:M,didAction:O,didFilter:R,actions:Z,filters:C}=A,K=((t,e,n)=>{const r=new a({}),i=new Set,s=()=>{i.forEach(t=>t())},o=(t,e="default")=>{r.data[e]={...r.data[e],...t},r.data[e][""]={...l,...r.data[e]?.[""]},delete r.pluralForms[e]},u=(t,e)=>{o(t,e),s()},d=(t="default",e,n,i,s)=>(r.data[t]||o(void 0,t),r.dcnpgettext(t,e,n,i,s)),h=t=>t||"default",p=(t,e,r)=>{let i=d(r,e,t);return n?(i=n.applyFilters("i18n.gettext_with_context",i,t,e,r),n.applyFilters("i18n.gettext_with_context_"+h(r),i,t,e,r)):i};if(t&&u(t,e),n){const t=t=>{c.test(t)&&s()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>r.data[t],setLocaleData:u,addLocaleData:(t,e="default")=>{r.data[e]={...r.data[e],...t,"":{...l,...r.data[e]?.[""],...t?.[""]}},delete r.pluralForms[e],s()},resetLocaleData:(t,e)=>{r.data={},r.pluralForms={},u(t,e)},subscribe:t=>(i.add(t),()=>i.delete(t)),__:(t,e)=>{let r=d(e,void 0,t);return n?(r=n.applyFilters("i18n.gettext",r,t,e),n.applyFilters("i18n.gettext_"+h(e),r,t,e)):r},_x:p,_n:(t,e,r,i)=>{let s=d(i,void 0,t,e,r);return n?(s=n.applyFilters("i18n.ngettext",s,t,e,r,i),n.applyFilters("i18n.ngettext_"+h(i),s,t,e,r,i)):s},_nx:(t,e,r,i,s)=>{let o=d(s,i,t,e,r);return n?(o=n.applyFilters("i18n.ngettext_with_context",o,t,e,r,i,s),n.applyFilters("i18n.ngettext_with_context_"+h(s),o,t,e,r,i,s)):o},isRTL:()=>"rtl"===p("ltr","text direction"),hasTranslation:(t,e,i)=>{const s=e?e+""+t:t;let o=!!r.data?.[i??"default"]?.[s];return n&&(o=n.applyFilters("i18n.has_translation",o,t,e,i),o=n.applyFilters("i18n.has_translation_"+h(i),o,t,e,i)),o}}})(void 0,void 0,A),j=(K.getLocaleData.bind(K),K.setLocaleData.bind(K),K.resetLocaleData.bind(K),K.subscribe.bind(K),K.__.bind(K));K._x.bind(K),K._n.bind(K),K._nx.bind(K),K.isRTL.bind(K),K.hasTranslation.bind(K);const N={template:document.getElementById("main-image"),stepper:document.getElementById("responsive.pixel_step"),counter:document.getElementById("responsive.breakpoints"),max:document.getElementById("responsive.max_width"),min:document.getElementById("responsive.min_width"),details:document.getElementById("preview-details"),preview:null,init(){this.preview=this.template.parentNode,this.stepper.addEventListener("change",()=>{this.counter.value=this.rebuildPreview()}),this.counter.addEventListener("change",()=>{this.calculateShift()}),this.max.addEventListener("change",()=>{this.calculateShift()}),this.min.addEventListener("change",()=>{this.calculateShift()}),this.stepper.dispatchEvent(new Event("change"))},calculateShift(){const t=this.counter.value,e=(this.max.value-this.min.value)/(t-1);this.stepper.value=Math.floor(e),this.stepper.dispatchEvent(new Event("change"))},rebuildPreview(){let t=parseInt(this.max.value),e=parseInt(this.min.value),n=parseInt(this.stepper.value);1>n&&(this.stepper.value=n=50),t||(t=parseInt(this.max.dataset.default),this.max.value=t),e||(e=100,this.min.value=e);let r=t,i=r/t*100;const s=this.makeSize(r,i);s.classList.add("main-image"),this.preview.innerHTML="",this.preview.appendChild(s);let o=1;for(;r>e&&(r-=n,!(r<e));)i=r/t*100,this.preview.appendChild(this.makeSize(r,i)),o++;return this.details.innerText=j(`With a max width of ${t}px and a minimum of ${e}px, you get a potential of ${o} images.`,"cloudinary"),o},makeSize(t,e){const n=this.template.cloneNode(!0);return n.lastChild.innerText=t+"px",n.style.width=e+"%",n.style.height=e+"%",n.id="",n.classList.remove("main-image"),n}};window.addEventListener("load",()=>N.init())})();
//# sourceMappingURL=breakpoints-preview.js.map